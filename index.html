<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>PaciÃªncia Spider</title>
  <link rel="stylesheet" href="css/style.css">
</head>
<body>

  <!-- Tela Inicial -->
  <div id="menu-screen" class="screen">
    <div class="menu-container">
      <h1>â™  PaciÃªncia Spider</h1>
      <p class="subtitle">Escolha a dificuldade</p>
      <div class="difficulty-buttons">
        <button class="btn btn-easy" onclick="startGame(1)">
          <span class="btn-icon">â™ </span>
          <span class="btn-label">1 Naipe</span>
          <span class="btn-desc">FÃ¡cil</span>
        </button>
        <button class="btn btn-medium" onclick="startGame(2)">
          <span class="btn-icon">â™ â™¥</span>
          <span class="btn-label">2 Naipes</span>
          <span class="btn-desc">MÃ©dio</span>
        </button>
        <button class="btn btn-hard" onclick="startGame(4)">
          <span class="btn-icon">â™ â™¥â™¦â™£</span>
          <span class="btn-label">4 Naipes</span>
          <span class="btn-desc">DifÃ­cil</span>
        </button>
      </div>
      <div class="deal-id-box">
        <p class="deal-id-title">Jogar por ID</p>
        <div class="deal-id-row">
          <input id="deal-id-input" type="text" placeholder="Cole o ID da partida" autocomplete="off">
          <button class="btn btn-secondary" onclick="startGameFromId()">Iniciar por ID</button>
        </div>
      </div>
      <button class="btn btn-stats" onclick="showStats()">
        ðŸ“Š EstatÃ­sticas
      </button>
    </div>
  </div>

  <!-- Tela do Jogo -->
  <div id="game-screen" class="screen hidden">
    <!-- Barra Superior -->
    <div class="top-bar">
      <div class="top-bar-left">
        <button class="toolbar-btn" onclick="showMenu()"><span class="tb-icon">â˜°</span><span class="tb-label">Menu</span></button>
        <button class="toolbar-btn" onclick="confirmNewGame()"><span class="tb-icon">âŸ³</span><span class="tb-label">Novo</span></button>
        <button class="toolbar-btn" onclick="restartGame()"><span class="tb-icon">â†º</span><span class="tb-label">Reiniciar</span></button>
        <button class="toolbar-btn" onclick="copyGameId()"><span class="tb-icon">#</span><span class="tb-label">Copiar ID</span></button>
        <button class="toolbar-btn" onclick="undoMove()"><span class="tb-icon">â†©</span><span class="tb-label">Desfazer</span></button>
      </div>
      <button class="toolbar-btn" onclick="showHint()"><span class="tb-icon">?</span><span class="tb-label">Dica</span></button>
      <div class="top-bar-center">
        <div class="info-item">
          <span class="info-label">Pontos</span>
          <span id="score" class="info-value">500</span>
        </div>
        <div class="info-item">
          <span class="info-label">Movimentos</span>
          <span id="moves" class="info-value">0</span>
        </div>
        <div class="info-item">
          <span class="info-label">Tempo</span>
          <span id="timer" class="info-value">00:00</span>
        </div>
      </div>
      <div class="top-bar-right">
        <button id="auto-solve-btn" class="toolbar-btn" onclick="autoSolve()"><span class="tb-icon">â–¶</span><span class="tb-label">Resolver</span></button>
        <div class="completed-area" id="completed-area"></div>
        <div class="stock-area" id="stock-area" onclick="dealCards()" title="Distribuir cartas"></div>
      </div>
    </div>
    <!-- Tableau -->
    <div class="tableau" id="tableau"></div>
  </div>

  <!-- Modal de EstatÃ­sticas -->
  <div id="stats-modal" class="modal hidden">
    <div class="modal-content">
      <div class="modal-header">
        <h2>EstatÃ­sticas</h2>
        <button class="modal-close" onclick="closeStats()">âœ•</button>
      </div>
      <div class="modal-body">
        <div class="stats-tabs">
          <button class="stats-tab active" onclick="switchStatsTab(1)">1 Naipe</button>
          <button class="stats-tab" onclick="switchStatsTab(2)">2 Naipes</button>
          <button class="stats-tab" onclick="switchStatsTab(4)">4 Naipes</button>
        </div>
        <div id="stats-content" class="stats-grid"></div>
      </div>
      <div class="modal-footer">
        <button class="btn btn-danger" onclick="confirmResetStats()">Resetar EstatÃ­sticas</button>
      </div>
    </div>
  </div>

  <!-- Modal de VitÃ³ria -->
  <div id="win-modal" class="modal hidden">
    <div class="modal-content win-content">
      <h2>ðŸŽ‰ ParabÃ©ns!</h2>
      <p>VocÃª venceu!</p>
      <div id="win-stats" class="win-stats"></div>
      <div class="win-buttons">
        <button class="btn btn-primary" onclick="confirmNewGame()">Jogar Novamente</button>
        <button class="btn btn-secondary" onclick="showMenu()">Menu Principal</button>
      </div>
    </div>
  </div>

  <!-- Modal de Busca de SoluÃ§Ã£o -->
  <div id="solver-modal" class="modal hidden">
    <div class="modal-content">
      <div class="modal-header">
        <h2>Buscando soluÃ§Ã£o</h2>
        <button class="modal-close" onclick="cancelSolverSearch()">âœ•</button>
      </div>
      <div class="modal-body">
        <div class="solver-status">
          <div class="solver-spinner"></div>
          <div>
            <div class="solver-title">Analisando o jogoâ€¦</div>
            <div class="solver-subtitle">Isso pode levar alguns segundos.</div>
          </div>
        </div>
      </div>
      <div class="modal-footer">
        <button class="btn btn-secondary" onclick="cancelSolverSearch()">Cancelar</button>
      </div>
    </div>
  </div>

  <script src="js/card.js"></script>
  <script src="js/game.js"></script>
  <script src="js/stats.js"></script>
  <script src="js/ui.js"></script>
  <script>_startSpiderPoolWorkers();</script>
</body>
</html>
